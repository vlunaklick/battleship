(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(8),c=a.n(i),o=(a(14),a(2)),s=(a(15),a(0));function u(){return Object(s.jsx)("header",{className:"headerCont",children:Object(s.jsx)("h1",{className:"titHead",children:"Battleship"})})}var l=a(4),h=a(7),b=function(e,t,a,n){var r=[],i=n;return{nombre:e,vertical:a,hit:function(e,t,a){var n=Object(l.a)(a);return"vertical"===t?n[(e-i)/10]="X":n[e-i]="X",n},isSunk:function(e){for(var t=e,a=!0,n=0;n<e.length;n++)if("X"!==t[n]){a=!1;break}return a},lives:r,darLives:function(e){for(var t=0;t<e;t++)r.push("")}}},j=function(){var e=function(e,t,a,n){var r=Object(l.a)(e),i=!0,c=t,o=10*Math.floor((t+10)/10)-1;if("vertical"===n)for(var s=0;s<a;s++)c<=99&&!1===r[c].hasShip?c+=10:i=!1;else for(var u=0;u<a;u++)c<=99&&!1===r[c].hasShip&&c<=o?c+=1:i=!1;return i};return{init:function(){for(var e=[],t=0;t<100;t++)e.push({hasShip:!1,isHit:!1,name:""});return e},checkPos:e,placeShip:function(t,a,n,r,i,c){var o=Object(l.a)(t),s=Object(h.a)({},c);if(e(o,a-1,n,r)){s["".concat(i)]=b(i,n,r,a-1),s["".concat(i)].darLives(n);var u=a-1;if("vertical"===r)for(var j=0;j<n;j++)o[u].hasShip=!0,o[u].name=i,u+=10;else for(var d=0;d<n;d++)o[u].hasShip=!0,o[u].name=i,u+=1}return[o,s]},receiveAttack:function(e,t,a){var n,r=Object(h.a)({},e),i=!1;return!1===t[a-1].isHit&&(t[a-1].isHit=!0,!0===t[a-1].hasShip&&(r[t[a-1].name].lives=r[t[a-1].name].hit(a-1,r[t[a-1].name].vertical,r[t[a-1].name].lives),n=r[t[a-1].name].isSunk(r[t[a-1].name].lives),i=!0)),[r,n,i]}}},d=function(e){var t=j();return{name:e,fireShip:function(e,a,n){var r;return!1===a[n-1].isHit&&(r=t.receiveAttack(e,a,n)),r},board:t}};a(17),a(18),a(19);function p(e){var t=e.ship||e.hit?e.ship&&e.hit?"hitS":e.ship&&e.enemy&&!e.hit?"water":!e.ship||e.enemy||e.hit?"hitN":"ship":"water",a="boxinboard ".concat(t);return Object(s.jsx)("div",{onClick:function(){"atacar"===e.atacar?"player"!==e.turno||e.hit||e.mandarAtaque(e.id):"poner"===e.atacar&&e.ponerShip(e.id)},className:a})}var m=a(9),f=a.n(m);var O=function(e){var t=0,a=e.board.map((function(a){return t+=1,Object(s.jsx)(p,{id:t,enemy:e.enemy,ship:a.hasShip,hit:a.isHit,turno:e.turno,atacar:e.atacar,mandarAtaque:e.mandarAtaque,ponerShip:e.ponerShip},f()())}));return Object(s.jsxs)("div",{className:"agruparBoard",children:[Object(s.jsx)("div",{className:"userBoard",children:a}),"IA"===e.select||"Your"===e.select?Object(s.jsx)("div",{className:"textB",children:Object(s.jsxs)("h3",{className:"tB",children:[e.select," Board"]})}):""]})};a(21);function v(e){var t=1!==e.placing?e.placing:2,a=5===t?"Carrier":4===t?"Battleship":3===t?"Submarine":2===t?"Patroler":"Peque";return Object(s.jsx)("div",{className:"titlePlace",children:Object(s.jsx)("h1",{className:"titPlace",children:0!==e.placing?"You have to place a ".concat(a," (").concat(t," places)"):"You can start the game now"})})}a(22);function S(e){return Object(s.jsx)("div",{className:"boardsCont",children:e.showAll?Object(s.jsxs)("div",{className:"containerALL",children:[Object(s.jsx)("div",{className:"textingGame",children:0===e.turnoMostrar?Object(s.jsx)("div",{children:Object(s.jsx)("h2",{className:"textW",children:"Your turn"})}):Object(s.jsx)("div",{children:Object(s.jsxs)("h2",{className:"textW",children:["player"===e.turno?"IA ":"You ","shooted and hit ",e.hiten,"."]})})}),Object(s.jsxs)("div",{className:"containerWP",children:[Object(s.jsx)(O,{enemy:!1,board:e.player1,atacar:"nada",mandarAtaque:e.mandarAtaque,ponerShip:e.ponerShip,select:"Your"}),Object(s.jsx)(O,{enemy:!0,board:e.player2,turno:e.turno,atacar:"atacar",mandarAtaque:e.mandarAtaque,ponerShip:e.ponerShip,select:"IA"})]}),Object(s.jsx)("button",{className:"botonP",onClick:function(){return e.resetear()},children:"Play Again"})]}):Object(s.jsx)("div",{className:"containerWP",children:Object(s.jsxs)("div",{className:"placed",children:[Object(s.jsx)(v,{placing:e.espacios}),Object(s.jsxs)("div",{className:"boardP",children:[Object(s.jsx)(O,{enemy:!1,board:e.player1,atacar:"poner",ponerShip:e.ponerShip,mandarAtaque:e.mandarAtaque}),Object(s.jsxs)("div",{className:"botonesT",children:[Object(s.jsx)("button",{className:"botonP",onClick:function(){return e.randomP()},children:"Random"}),Object(s.jsx)("button",{className:"botonP",onClick:function(){return e.cambiarOri()},children:e.orientacion}),Object(s.jsx)("button",{className:"botonP",onClick:function(){return e.resetear()},children:"Reset"})]}),Object(s.jsx)("button",{className:"botonP",onClick:function(){return e.iniciar()},children:"Accept"})]})]})})})}var x=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)("player"),c=Object(o.a)(i,2),l=c[0],h=c[1],b=Object(n.useState)("vertical"),j=Object(o.a)(b,2),p=j[0],m=j[1],f=Object(n.useState)(5),O=Object(o.a)(f,2),v=O[0],x=O[1],P=Object(n.useState)(5),N=Object(o.a)(P,2),A=N[0],y=N[1],C=Object(n.useState)(5),g=Object(o.a)(C,2),k=g[0],q=g[1],B=Object(n.useState)(!1),w=Object(o.a)(B,2),M=w[0],I=w[1],H=Object(n.useState)(0),Y=Object(o.a)(H,2),L=Y[0],F=Y[1],T=Object(n.useState)("water"),W=Object(o.a)(T,2),V=W[0],X=W[1],z=d("Valen"),G=d("IA"),J=Object(n.useState)(z.board.init),R=Object(o.a)(J,2),D=R[0],E=R[1],K=Object(n.useState)(G.board.init),Q=Object(o.a)(K,2),U=Q[0],Z=Q[1],$=Object(n.useState)({Carrier:{},Battleship:{},Submarine:{},Patroler:{},Peque:{}}),_=Object(o.a)($,2),ee=_[0],te=_[1],ae=Object(n.useState)({Carrier:{},Battleship:{},Submarine:{},Patroler:{},Peque:{}}),ne=Object(o.a)(ae,2),re=ne[0],ie=ne[1],ce=function(e){for(var t,a=e.board.init(),n="Valen"===e.name?ee:re,r=5;r>0;r--){for(var i=5===r?"Carrier":4===r?"Battleship":3===r?"Submarine":2===r?"Patroler":"Peque",c=1!==r?r:2,o=Math.floor(100*Math.random())+1,s=Math.random()<.5?"vertical":"horizontal";!e.board.checkPos(a,o-1,c,s);)o=Math.floor(100*Math.random())+1;n=(t=e.board.placeShip(a,o,c,s,i,n))[1]}se(e,t[0],n),x(0)},oe=function(){E(z.board.init),te({Carrier:{},Battleship:{},Submarine:{},Patroler:{},Peque:{}}),x(5),y(5),q(5),r(!1),I(!1),h("player")},se=function(e,t,a){"Valen"===e.name?(te(a),E(t)):(ie(a),Z(t))},ue=function(){h((function(e){return"player"===e?"ia":"player"}))},le=function(e){var t=z.fireShip(re,U,e);ie(t[0]),t[1]&&q((function(e){return 1===e&&(h("Nada"),I(!0)),e-1})),0===L&&F((function(e){return e+1})),!0===t[2]?X("ship"):X("water")},he=function(){for(var e=Math.floor(100*Math.random())+1;!1!==D[e-1].isHit;)e=Math.floor(100*Math.random())+1;var t=G.fireShip(ee,D,e);te(t[0]),t[1]&&y((function(e){return 1===e&&(h("Nada"),I(!0)),e-1})),!0===t[2]?X("ship"):X("water")};return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"container",children:[M?Object(s.jsxs)("div",{className:"winnerAnnouncement",children:[Object(s.jsx)("h2",{className:"textWinner",children:0===A?"The IA wins":"You won!"}),Object(s.jsx)("button",{className:"botonP",onClick:function(){return oe()},children:"Play Again"})]}):"",Object(s.jsx)(u,{}),Object(s.jsx)(S,{player1:D,player2:U,showAll:a,turno:l,mandarAtaque:function(e){le(e),ue(),setTimeout((function(){he(),ue()}),700)},iniciar:function(){0===v&&(ce(G),r(!a))},randomP:function(){ce(z)},resetear:oe,orientacion:p,cambiarOri:function(){m((function(e){return"vertical"===e?"horizontal":"vertical"}))},ponerShip:function(e){var t,a=5===v?"Carrier":4===v?"Battleship":3===v?"Submarine":2===v?"Patroler":"Peque",n=1!==v?v:2;z.board.checkPos(D,e-1,n,p)&&0!==v&&x((function(e){return e-1})),t=z.board.placeShip(D,e,n,p,a,ee),se(z,t[0],t[1])},espacios:v,hayGanador:M,puntosP:A,puntosIA:k,turnoMostrar:L,hiten:V})]})})},P=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,24)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),i(e),c(e)}))};c.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(x,{})}),document.getElementById("root")),P()}],[[23,1,2]]]);
//# sourceMappingURL=main.b43d5315.chunk.js.map